<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Destiny of Africa</title>
	<style>
		body {
			font-family: 'Open Sans',Arial,sans-serif;
			margin: 0;
			padding: 0;
		}

		/* Map */
		#container-map {
			display: inline-block;
			background-color: #1d1d1d;
			color: #fff;
			overflow: hidden;
			width: 80vw;
			height: 100vh;
			position: absolute;
			top: 0;
			left: 0;
		}

		#viewport {
			width: 100%;
			height: 100%;
			overflow: hidden;
		}
		#viewport:active {
			cursor: move;
		}

		/* Nations */
		#container-nations {
			display: inline-block;
			background-color: #242424;
			color: #fff;
			overflow: hidden;
			width: 20vw;
			min-width: 380px;
			height: 100vh;
			position: absolute;
			top: 0;
			right: 0;
		}

		#header, #nations {
			width: 90%;
			margin: 0 auto;
		}

		.logo {
			background-image: url('images/logo_doa_small.png');
			background-repeat: no-repeat;
			width: 285px;
			height: 156px;
			margin: 40px auto 0;
		}

		.logo h1 {
			display: none;
		}

		.about {
			font-size: 12px;
			text-align: justify;
		}

		.social {
			width: 100%;
			text-align: center;
		}

		.socialTwitter,.socialPatreon {
			display: inline-block;
			width: 32px;
			height: 32px;
			border: 0;
			outline: none;
		}

		.socialTwitter {
			background: url('images/icon_social_twitter.png') no-repeat center center;
		}

		.socialPatreon {
			background: url('images/icon_social_patreon.png') no-repeat center center;
		}

	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="script/jquery.mapbox.js"></script>
	<script src="script/jquery.mousewheel.js"></script>
</head>
<body>

	<div id="container-map">
		<div id="viewport">
			<div style="background: url(images/africamap.png) no-repeat; width:3800px; height:3800px;" class="map-layer"> 
				<img src="images/africamap.png" alt="" /> 
				<div class="mapcontent">
					<div id="cities"></div>
				</div> 
			</div> 
		</div>
	</div>

	<div id="container-nations">
		<div id="header">
			<div class="logo">
				<h1>Destiny of Africa</span>
			</div>
			<div class="about">
				<p>
					Lorem ipsum words go here. This page is still under construction. Oh, king eh? Very nice. And how'd you get that, eh? By exploiting the workers. By hanging on to outdated imperialist dogma which perpetuates the economic and social differences in our society. Now we see the violence inherent in the system.
				</p>
			</div>
			<div class="social">
				<a href="https://twitter.com/ExtraNoise" title="Follow ExtraNoise" target="_blank" class="socialTwitter"></a>
				<a href="https://www.patreon.com/ExtraNoise" title="Become a Patron" target="_blank" class="socialPatreon"></a>
			</div>
		</div>
		<div id="nations">
			<div class="nation">
				nation 1
			</div>
			<div class="nation">
				nation 2
			</div>
		</div>
	</div>

	<script type="text/javascript"> 
		$(document).ready(function() { 
			$("#viewport").mapbox({mousewheel: true}); 
		}); 
	</script>

	<script>
		fetch('script/cities.json')
			.then(function (response) {
				return response.json();
			})
			.then(function (data) {
				appendData(data);
			})
			.catch(function (err) {
				console.log('error: ' + err);
			});
		function appendData(data) {
			var mainContainer = document.getElementById("cities");
			for (var i = 0; i < data.length; i++) {
				var div = document.createElement("div");
				div.className = ('city');
				div.style = 'position:absolute; top:' + (data[i].yloc - 8) + 'px; left:' + (data[i].xloc - 8) + 'px; background-color:rgba(255,0,0,0.4)';
				div.innerHTML = data[i].city + ', ' + data[i].country;
				mainContainer.appendChild(div);
			}
		}
	</script>

</body>
</html>